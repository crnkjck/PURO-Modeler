<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>PURO Modeler</title>
        <!--
        <link rel="stylesheet" href="dijit/themes/claro/claro.css">
	
		<script>dojoConfig = {parseOnLoad: true};</script>
		<script src='/puromodeler/dojo/dojo.js'></script>
	
		<script>
			require(["dojo/parser", "dijit/Dialog"]); //, "dijit/form/Button", "dijit/form/TextBox", "dijit/form/DateTextBox", "dijit/form/TimeTextBox"
			1064221756456-3qi62lgogm664o4lf9nh3atck4lcc5h4.apps.googleusercontent.com
		</script> -->

		<link rel="stylesheet" href="purom.css">
		<link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<link rel="stylesheet" href="mdc-adjust.css">

		<meta name="google-signin-scope" content="email">
		<meta name="google-signin-client_id" content="1064221756456-3qi62lgogm664o4lf9nh3atck4lcc5h4.apps.googleusercontent.com">
		<script src="https://apis.google.com/js/platform.js"></script>
	
		<script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
	    <script src="d3.v3.js"></script>
	    <script src="purostrings.js"></script>
	    <script src="settings.js"></script>
        <script src="puromodel.js"></script>
        <script src="jquery-1.12.2.min.js"></script>
        <script src="jquery.rdfquery.core-1.0.js"></script>
        <script src="puroserializer.js"></script>
        <script src="puroloader.js"></script>
	    <script src="purocontroller.js"></script>
	  	<script src="puroview.js"></script>
	  	<script src="puroEditor.js"></script>
	  	
		 <script src='dojo/dojo.js' djConfig="isDebug: true, parseOnLoad: true"></script>
		 
		<!-- <script src='/puromodeler/ojox/data/XmlStore.js'></script> -->


    </head>
    <body class="mdc-typography"><aside class="mdc-drawer mdc-drawer--dismissible">
		<div class="mdc-drawer__header">
			<h3 class="mdc-drawer__title">PURO Modeler</h3>
			<h6 class="mdc-drawer__subtitle">Models</h6>
			<button id="btnNew" class="mdc-button mdc-button--raised " data-mdc-auto-init="MDCRipple">Create new</button>

		</div>
			<div class="mdc-drawer__content">
				<h6 class="mdc-list-group__subheader">My models</h6>
				<ul class="mdc-list" id="divModelsList">

				</ul>
				<hr class="mdc-list-divider">
				<h6 class="mdc-list-group__subheader">Example models</h6>
				<ul class="mdc-list" id="divExamplesList">

				</ul>
			</div>
		</aside>
		<div class="mdc-drawer-app-content">
			<header class="mdc-top-app-bar app-bar" id="app-bar">
				<div class="mdc-top-app-bar__row">
					<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
						<a href="#" class="material-icons mdc-top-app-bar__navigation-icon">menu</a>
						<span id="modelname" class="mdc-top-app-bar__title">Unnamed PURO model</span>
					</section>
					<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
						<button id="btnLogin" class="mdc-button mdc-button--flat mdc-theme--on-primary" data-mdc-auto-init="MDCRipple">Login</button>
						<button id="btnSave" class="mdc-button mdc-button--flat mdc-theme--on-primary" data-mdc-auto-init="MDCRipple">Save model</button>
						<button id="btnMorph" class="mdc-button mdc-button--flat mdc-theme--on-secondary" data-mdc-auto-init="MDCRipple">Build ontology</button>
						<a href="#" id="btnLoggedIn" class="material-icons mdc-top-app-bar__action-item">person</a>
						<a href="#" id="btnMenu" class="material-icons mdc-top-app-bar__action-item" aria-label="Menu" alt="Menu">more_vert</a>
					</section>
				</div>
			</header>
			<main class="main-content" id="main-content">
				<div class="mdc-top-app-bar--fixed-adjust">
					<div id="canvas" class="canvas"></div>
					<div id="tools"  class="toolbox mdc-elevation--z8">
						<div class="toolboxSwitches">
						<div id="switchDivAdvanced" class="mdc-switch mdc-switch--checked">
							<div class="mdc-switch__track"></div>
							<div class="mdc-switch__thumb-underlay">
								<div class="mdc-switch__thumb">
									<input type="checkbox" id="switchAdvanced" class="mdc-switch__native-control" role="switch" checked>
								</div>
							</div>
						</div>
						<label for="switchAdvanced" class="mdc-typography--caption">Advanced</label>
						</div>
					</div>
				</div>
			</main>
		</div>
		<div class="mdc-menu mdc-menu-surface" id="menuLinkType">
			<ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical" id="menuLinkTypeItems">

			</ul>
		</div>
		<button class="mdc-icon-button material-icons del-button" id="btnDel">delete_forever</button>

	<div class="mdc-dialog"
		 role="alertdialog"
		 aria-modal="true"
		 aria-labelledby="my-dialog-title"
		 aria-describedby="my-dialog-content"
	id="dlgLogin">
		<div class="mdc-dialog__container">
			<div class="mdc-dialog__surface">
				<!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
				<h2 class="mdc-dialog__title" id="my-dialog-title"><!--
     -->Please login with Google account<!--
   --></h2>
				<div class="mdc-dialog__content" id="my-dialog-content">
					<span class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></span>
				</div>
				<footer class="mdc-dialog__actions">
					<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="yes">Close</button>
				</footer>
			</div>
		</div>
		<div class="mdc-dialog__scrim"></div>
	</div>

	<div class="mdc-dialog"
		 id="dlgLoggedIn"
		 role="alertdialog"
		 aria-modal="true"
		 aria-labelledby="my-dialog-title"
		 aria-describedby="my-dialog-content">
		<div class="mdc-dialog__container">
			<div class="mdc-dialog__surface">
				<!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
				<h2 class="mdc-dialog__title"><!--
     -->Logged in<!--
   --></h2>
				<div class="mdc-dialog__content">
					You are logged in as <span id="spanUser"></span>.
				</div>
				<footer class="mdc-dialog__actions">
					<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="yes">Close</button>
				</footer>
			</div>
		</div>
		<div class="mdc-dialog__scrim"></div>
	</div>

	</body>
	<script>
        mdc.autoInit();
        const drawer = mdc.drawer.MDCDrawer.attachTo(document.querySelector('.mdc-drawer'));
        const topAppBar = mdc.topAppBar.MDCTopAppBar.attachTo(document.getElementById('app-bar'));
        topAppBar.setScrollTarget(document.getElementById('main-content'));
        topAppBar.listen('MDCTopAppBar:nav', () => {
            drawer.open = !drawer.open;
        });
        onSignIn = function (googleUser) {
            if(googleUser.getBasicProfile()) {
                PuroEditor.setUserAndLoad(googleUser.getBasicProfile().getEmail());
            }
		}
	</script>
    <script src="bindEditor.js"></script>
</html>
